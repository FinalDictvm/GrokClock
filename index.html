<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Analog Clock with Months, Holidays, Birthdays, Seasons & Life Events</title>
  <style>
    body {
      background: #333;
      font-family: sans-serif;
      text-align: center;
      color: white;
      position: relative;
      margin: 0; /* Prevent body margin shifts */
    }
    #holidayDisplay {
      position: absolute;
      top: 360px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.2em;
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
      pointer-events: none;
    }
    #holidayDisplay .event-date {
      font-size: 0.6em;
    }
    #holidayDisplay .event-date .to {
      color: gray;
    }
    .clock {
      width: 300px;
      height: 300px;
      border: 10px solid #807466;
      border-radius: 50%;
      position: relative;
      margin: 50px auto 0; /* Fixed top margin, no bottom auto */
      background: #e0d9d1;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.4),
                  inset -0.5px 0.5px 5px rgba(0, 0, 0, 0.3);
      filter: drop-shadow(-5px 10px 8px rgba(0, 0, 0, 0.2));
      overflow: visible;
    }
    .season-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
      background: conic-gradient(
        rgba(255,72,0,0.4) 0deg, rgba(255,72,0,0.4) 18deg,
        rgba(59,160,255,0.5) 22deg, rgba(168,255,249,0.8) 107deg,
        rgba(51,245,177,0.7) 111deg, rgba(117,255,48,0.5) 198deg,
        rgba(255,255,112,0.8) 202deg, rgba(255,225,36,0.5) 290deg,
        rgba(255,165,0,0.5) 294deg, rgba(255,72,0,0.4) 360deg
      );
    }
    .arcs {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: visible;
    }
    .arcs path {
      transition: stroke-width 0.2s ease;
    }
    .month {
      position: absolute;
      width: 40px;
      text-align: center;
      font-size: 0.9em;
      font-weight: bold;
      z-index: 3;
      text-shadow: 0 0 10px rgba(255,255,255,1),
                   -2px 2px 2px rgba(0,0,0,0.4);
    }
    .tick {
      position: absolute;
      width: 2px;
      height: 6px;
      background: #807466;
      transform-origin: left center;
      z-index: 2;
      box-shadow: 0 1px 2px rgba(0,0,0,0.4);
    }
    .hand {
      width: 4px;
      height: 120px;
      background: white;
      position: absolute;
      left: calc(50% - 2px);
      bottom: 150px;
      transform-origin: bottom center;
      transform: rotate(0deg);
      transition: transform 0.5s linear;
      z-index: 1;
      box-shadow: 0 2px 3px rgba(0,0,0,0.3);
    }
    .pointer {
      width: 1px;
      height: 10px; /* Spans from 150px to 160px radius */
      background: white;
      position: absolute;
      transform-origin: center bottom;
      transition: transform 0.5s linear;
      z-index: 2;
      display: none;
    }
    .hour-hand {
      width: 4px;
      height: 80px;
      background: #333;
      position: absolute;
      left: calc(50% - 2px);
      bottom: 150px;
      transform-origin: bottom center;
      transform: rotate(0deg);
      z-index: 2;
      box-shadow: 0 2px 3px rgba(0,0,0,0.3);
      display: none;
    }
    .minute-hand {
      width: 3px;
      height: 100px;
      background: #666;
      position: absolute;
      left: calc(50% - 1.5px);
      bottom: 150px;
      transform-origin: bottom center;
      transform: rotate(0deg);
      z-index: 2;
      box-shadow: 0 2px 3px rgba(0,0,0,0.3);
      display: none;
    }
    .second-hand {
      width: 1px;
      height: 110px;
      background: red;
      position: absolute;
      left: calc(50% - 0.5px);
      bottom: 150px;
      transform-origin: bottom center;
      transform: rotate(0deg);
      z-index: 2;
      box-shadow: 0 2px 3px rgba(0,0,0,0.3);
      display: none;
    }
    .center {
      width: 10px;
      height: 10px;
      background: #d6c7c3;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 4;
      box-shadow: -0.5px 2px 4px rgba(0,0,0,0.4),
                  inset 2px -2px 5px rgba(0,0,0,0.7);
    }
    .marker {
      position: absolute;
      width: 20px;
      height: 20px;
      background: transparent;
      z-index: 5;
      cursor: pointer;
      display: none;
      transition: left 0.3s ease, top 0.3s ease;
    }
    .major-holiday-dot,
    .minor-holiday-dot,
    .birthday-dot,
    .custom-dot,
    .life-dot {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 4px;
      height: 4px;
      border-radius: 50%;
      border: 1px solid white;
      transition: transform 0.2s ease;
    }
    .major-holiday-dot { background: rgb(255, 0, 0); }
    .minor-holiday-dot { background: rgb(255, 165, 0); }
    .birthday-dot { background: rgb(255, 8, 201); }
    .custom-dot { background: rgb(4, 255, 0); }
    .life-dot { background: rgb(13, 126, 255); }
    .active .major-holiday-dot,
    .active .minor-holiday-dot,
    .active .birthday-dot,
    .active .custom-dot,
    .active .life-dot {
      transform: translate(-50%, -50%) scale(2);
    }
    .event-label {
      position: absolute;
      white-space: nowrap;
      font-size: 0.7em;
      color: white;
      z-index: 6;
      cursor: move;
      user-select: none;
      line-height: 1;
    }
    .connector {
      position: absolute;
      height: 1px;
      transform-origin: 0 50%;
      pointer-events: none;
      z-index: 6;
    }
    .controls {
      margin-top: 105px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      width: 300px;
      margin-left: calc(50% - 200px);
      margin-right: auto;
    }
    .checkbox-label {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      font-size: 0.9em;
      color: #D3D3D3;
      cursor: pointer;
      width: 100%;
      max-width: 200px;
    }
    .checkbox-label input[type="checkbox"] {
      display: none;
    }
    .checkbox-label .checkbox-custom {
      width: 16px;
      height: 16px;
      border: 2px solid #807466;
      background: #e0d9d1;
      margin-left: 8px;
      position: relative;
      transition: background 0.2s ease;
    }
    .checkbox-label input[type="checkbox"]:checked + .checkbox-custom {
      background: #807466;
    }
    .checkbox-label input[type="checkbox"]:checked + .checkbox-custom::after {
      content: "X";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 12px;
      font-weight: bold;
    }
    #toggleMajorHolidays:checked + .checkbox-custom::after { color: rgb(255, 0, 0); }
    #toggleMinorHolidays:checked + .checkbox-custom::after { color: rgb(255, 165, 0); }
    #toggleBirthdays:checked + .checkbox-custom::after { color: rgb(255, 8, 201); }
    #toggleLifeEvents:checked + .checkbox-custom::after { color: rgb(13, 126, 255); }
    #toggleCustomEvents:checked + .checkbox-custom::after { color: rgb(4, 255, 0); }
    #toggleSeasons:checked + .checkbox-custom::after,
    #toggleTemperatures:checked + .checkbox-custom::after,
    #toggleClockHands:checked + .checkbox-custom::after,
    #togglePointer:checked + .checkbox-custom::after { color: white; }
    #toggleCustomEventsLabel {
      display: none;
    }
    .custom-event-button {
      width: 300px;
      margin-left: auto;
      margin-right: auto;
      margin-top: 19px;
      text-align: center;
    }
    #addCustomEvent {
      padding: 3px 6px;
      font-size: 0.7em;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #807466;
      color: white;
      box-shadow: 0 2px 3px rgba(0,0,0,0.3);
    }
    @keyframes rippleIn {
      0% { transform: scale(0.5); opacity: 0; }
      40% { transform: scale(2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes rippleOut {
      0% { transform: scale(1); opacity: 1; }
      60% { transform: scale(0.2); opacity: 0.8; }
      100% { transform: scale(0); opacity: 0; }
    }
    .ripple-in { animation: rippleIn 0.3s forwards; }
    .ripple-out { animation: rippleOut 0.3s forwards; }
    .temperature {
      font-size: 0.8em;
      color: white;
      opacity: 0;
      transition: opacity 0.45s ease-in-out;
      position: absolute;
      z-index: 3;
      pointer-events: none;
      text-shadow: 0 0 5px rgba(0,0,0,1);
    }
    .temperature.visible {
      opacity: 0.6;
    }
    .temperature.march.visible { opacity: 0.75; }
    .temperature.may.visible { opacity: 0.7; }
    .temperature.june.visible { opacity: 0.8; }
    .temperature.july.visible { opacity: 1.0; }
    .temperature.august.visible { opacity: 0.95; }
    .temperature.september.visible { opacity: 0.85; }
  </style>
</head>
<body>
  <div class="clock" id="clock">
    <div class="season-overlay" id="seasonOverlay"></div>
    <svg class="arcs" width="300" height="300" viewBox="0 0 300 300"></svg>
    <div class="hand" id="hand"></div>
    <div class="pointer" id="pointer"></div>
    <div class="hour-hand" id="hourHand"></div>
    <div class="minute-hand" id="minuteHand"></div>
    <div class="second-hand" id="secondHand"></div>
    <div class="center"></div>
  </div>
  <div id="holidayDisplay"></div>
  <div class="controls">
    <label class="checkbox-label">
      Major Holidays
      <input type="checkbox" id="toggleMajorHolidays">
      <span class="checkbox-custom"></span>
    </label>
    <label class="checkbox-label">
      Minor Holidays
      <input type="checkbox" id="toggleMinorHolidays">
      <span class="checkbox-custom"></span>
    </label>
    <label class="checkbox-label">
      Birthdays
      <input type="checkbox" id="toggleBirthdays">
      <span class="checkbox-custom"></span>
    </label
